<app-sidebar></app-sidebar>
<div fxLayout="row wrap" fxLayoutGap="24px grid">
  <div fxFlex.lt-md="50" fxFlex.lt-sm="100">
    <mat-card>
      <mat-card-title></mat-card-title>
      <mat-card-content>
        <form [formGroup]="registerFrom" (ngSubmit)="onSubmit()">
          <mat-form-field class="display-block">
            <input matInput placeholder="username" formControlName="username" required minlength="4" maxlength="10">
            <mat-error *ngIf="formErrors.username">{{formErrors.username}}</mat-error>
          </mat-form-field>
          <mat-form-field class="display-block">
            <input matInput placeholder="email" formControlName="email" required>
            <mat-error *ngIf="formErrors.email">{{formErrors.email}}</mat-error>
          </mat-form-field>
          <mat-form-field class="display-block">
            <input matInput placeholder="password" formControlName="password" [type]="hide ? 'password' : 'text'"
              required>
            <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
          </mat-form-field>
          <mat-form-field class="display-block">
            <input matInput placeholder="password confirm" formControlName="password_confirm" required>
          </mat-form-field>
          <mat-form-field class="display-block">
            <input matInput placeholder="phone" formControlName="phone" minlength="11" maxlength="11">
            <mat-hint align="end">{{registerFrom.value.phone?.length || 0}}/11</mat-hint>
          </mat-form-field>
          <mat-checkbox class="form-check" formControlName="agree">agree</mat-checkbox>
          <button mat-raised-button color="primary" type="submit" [disabled]="!registerFrom.valid">SUBMIT</button>
          <button mat-raised-button color="default" type="button" (click)="rebuildForm()">ACTUALISER</button>
        </form>

        <p>{{registerFrom.value | json}}</p>
      </mat-card-content>
    </mat-card>
  </div>

